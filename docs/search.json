[
  {
    "objectID": "posts/esrpy/index.html",
    "href": "posts/esrpy/index.html",
    "title": "How to Optimize a Battery in ERCOT (pre-RTC+B)",
    "section": "",
    "text": "Grid-scale batteries can profit by buying electricity when prices are low and selling when prices spike. In ERCOT’s 5-minute real-time market, prices can swing from near-zero to hundreds of dollars per MWh within hours—creating significant arbitrage opportunities.\nI built esrpy, a Python library for backtesting battery trading strategies for RT energy arbitrage in ERCOT. Here’s how the optimization works and what I learned about how the strategy would do on a real time period with a real node–the very volatile RHESS2_ESS1."
  },
  {
    "objectID": "posts/esrpy/index.html#introduction",
    "href": "posts/esrpy/index.html#introduction",
    "title": "How to Optimize a Battery in ERCOT (pre-RTC+B)",
    "section": "",
    "text": "Grid-scale batteries can profit by buying electricity when prices are low and selling when prices spike. In ERCOT’s 5-minute real-time market, prices can swing from near-zero to hundreds of dollars per MWh within hours—creating significant arbitrage opportunities.\nI built esrpy, a Python library for backtesting battery trading strategies for RT energy arbitrage in ERCOT. Here’s how the optimization works and what I learned about how the strategy would do on a real time period with a real node–the very volatile RHESS2_ESS1."
  },
  {
    "objectID": "posts/esrpy/index.html#the-optimization-problem",
    "href": "posts/esrpy/index.html#the-optimization-problem",
    "title": "How to Optimize a Battery in ERCOT (pre-RTC+B)",
    "section": "The Optimization Problem",
    "text": "The Optimization Problem\nThe core strategy solves a linear program at each 5-minute interval, looking 55 minutes ahead (11 intervals). The objective is simple: maximize revenue.\nmaximize  Σ(t=0 to 10) [power[t] × price[t] × Δt]\nSubject to physical constraints:\n\nSoC limits: Battery can’t go below minimum or above maximum capacity\nPower limits: Charge/discharge rate capped at rated power\nEnergy conservation: soc[t+1] = soc[t] - power[t] × Δt / η\n\nAfter solving, the strategy applies post-processing to avoid trading in unfavorable conditions—a practical “bandaid” for not explicitly modeling cycling costs in the objective."
  },
  {
    "objectID": "posts/esrpy/index.html#running-a-backtest",
    "href": "posts/esrpy/index.html#running-a-backtest",
    "title": "How to Optimize a Battery in ERCOT (pre-RTC+B)",
    "section": "Running a Backtest",
    "text": "Running a Backtest\nUsing esrpy with real ERCOT data:\nfrom esrpy import (\n    BacktestConfig,\n    BatteryConfig,\n    ConfigurableOptimizationStrategy,\n    PointInTimeData,\n    load_lmps,\n    run_backtest,\n)\n\n# Load historical LMP data\nindicative_lmps, actual_lmps = load_lmps(\n    actual_csv_path=\"actual_lmps.csv\",\n    forecast_csv_path=\"indicative_lmps.csv\",\n)\n\npit_data = PointInTimeData(indicative_lmps, actual_lmps)\n\n# Run backtest with default 100 MW / 100 MWh battery\nresults_df = run_backtest(\n    pit_data=pit_data,\n    strategy=ConfigurableOptimizationStrategy(),\n    battery_config=BatteryConfig(),\n    backtest_config=BacktestConfig(),\n)"
  },
  {
    "objectID": "posts/esrpy/index.html#results-one-week-in-october-2025",
    "href": "posts/esrpy/index.html#results-one-week-in-october-2025",
    "title": "How to Optimize a Battery in ERCOT (pre-RTC+B)",
    "section": "Results: One Week in October 2025",
    "text": "Results: One Week in October 2025\nI compared three strategies on a simulated 100 MW / 100 MWh battery:\n\n\n\nStrategy\nTotal PnL\nCycles\n\n\n\n\nSimple threshold\n$17,511\n2.8\n\n\nBattery optimization\n$18,430\n5.9\n\n\nPerfect foresight\n$31,540\n10.4\n\n\n\n\nSimple threshold uses naive rules: sell if forecasted price &gt; $100, buy if forecasted price &lt; $10. It generated positive returns but left money on the table.\nBattery optimization (the LP approach) captured more value with moderate cycling. The 55-minute horizon helps catch short-term spreads. Admittedly I thought that this would do much better than the simple thresholding approach, but\n\n\n\n\nBattery optimization results\n\n\n\nPerfect foresight sets the upper bound—the ~$13K gap between it and battery optimization shows the theoretical value of better forecasting for the battery optimization strategy."
  },
  {
    "objectID": "posts/esrpy/index.html#key-takeaways",
    "href": "posts/esrpy/index.html#key-takeaways",
    "title": "How to Optimize a Battery in ERCOT (pre-RTC+B)",
    "section": "Key Takeaways",
    "text": "Key Takeaways\n\nEven simple optimization beats naive thresholds — the LP approach earned 5% more PnL\nForecast horizon matters — 55 minutes may miss larger daily patterns\nThis is just RT energy — post-RTC+B, the real opportunity (and complexity) lies in co-optimizing across energy and AS products in real-time"
  },
  {
    "objectID": "posts/esrpy/index.html#appendix",
    "href": "posts/esrpy/index.html#appendix",
    "title": "How to Optimize a Battery in ERCOT (pre-RTC+B)",
    "section": "Appendix",
    "text": "Appendix\n\nScope: Real-time Energy Arbitrage\nThis work focuses specifically on real-time (RT) energy arbitrage—buying and selling energy in ERCOT’s 5-minute market. It’s worth understanding what this doesn’t cover:\nDay-Ahead Market (DAM): Trading in the DAM requires a fundamentally different approach. You’re committing to positions ~24 hours in advance based on forecasts, with settlement against actual RT prices. The optimization horizon extends to 24+ hours, and you’re essentially making bets on DA/RT price spreads. The uncertainty is much higher, and position sizing becomes critical.\nAncillary Services (AS): Historically, AS has been procured entirely in the DAM. If you committed 20 MW to Responsive Reserve Service (RRS), those megawatts were locked up and unavailable for RT energy arbitrage.\nWhat changes with RTC+B: On December 5, 2025, ERCOT implements Real-Time Co-Optimization plus Batteries (RTC+B). This fundamentally changes the game:\n\nAS will be co-optimized with energy in real-time, not just cleared day-ahead\nSCED will see your full battery capability every 5 minutes and decide whether energy or AS is more valuable\nDAM commitments become purely financial—you can adjust your RT strategy based on actual conditions\nStorage assets get up to 10 bid pairs per interval for energy and 5 for AS\n\nThe optimization problem becomes much more complex under RTC+B. You’d need to co-optimize across energy and multiple AS products (Reg Up, Reg Down, RRS, ECRS, Non-Spin) every 5 minutes, weighing opportunity costs, SoC management, and penalty exposure simultaneously.\nThis code is a good starting point for understanding RT energy optimization in isolation—but would need significant expansion to handle post-RTC+B AS trading."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Tony ElHabr",
    "section": "",
    "text": "This is the place where Tony writes about electric power systems."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "openpowersys",
    "section": "",
    "text": "How to Optimize a Battery in ERCOT (pre-RTC+B)\n\n\n\n\n\nBacktesting configurable strategies for battery optimization with your own python package\n\n\n\n\n\nDec 5, 2025\n\n\nTony ElHabr\n\n\n\n\n\n\nNo matching items"
  }
]